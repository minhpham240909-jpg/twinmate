@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #0a0a0a;

  /* Landing page specific colors */
  --landing-background: #020617;
  --landing-foreground: #f8fafc;

  /* ============================================
     MONOCHROME DESIGN SYSTEM
     Professional black & white theme for interior app
     ============================================ */

  /* Primary monochrome palette */
  --mono-white: #ffffff;
  --mono-50: #fafafa;
  --mono-100: #f5f5f5;
  --mono-200: #e5e5e5;
  --mono-300: #d4d4d4;
  --mono-400: #a3a3a3;
  --mono-500: #737373;
  --mono-600: #525252;
  --mono-700: #404040;
  --mono-800: #262626;
  --mono-900: #171717;
  --mono-950: #0a0a0a;
  --mono-black: #000000;

  /* Accent colors (minimal use) */
  --accent-success: #22c55e;
  --accent-warning: #eab308;
  --accent-error: #ef4444;
  --accent-info: #3b82f6;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Dark mode via system preference */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0f0f0f;
    --foreground: #f5f5f5;
  }
}

/* Dark mode via manual toggle (class-based) */
.dark {
  --background: #0f0f0f;
  --foreground: #f5f5f5;
}

/* ============================================
   IMPROVED DARK MODE STYLES
   Better contrast, readable text, consistent look
   ============================================ */

/* Base dark mode - apply to html/body */
.dark {
  color-scheme: dark;
}

.dark body {
  background-color: #0f0f0f;
  color: #f5f5f5;
}

/* ============================================
   MONOCHROME UTILITY CLASSES
   Use these in interior app pages
   ============================================ */

/* Monochrome backgrounds */
.mono-bg-primary { background-color: var(--mono-white); }
.mono-bg-secondary { background-color: var(--mono-50); }
.mono-bg-tertiary { background-color: var(--mono-100); }
.mono-bg-inverse { background-color: var(--mono-950); }

.dark .mono-bg-primary { background-color: var(--mono-950); }
.dark .mono-bg-secondary { background-color: var(--mono-900); }
.dark .mono-bg-tertiary { background-color: var(--mono-800); }
.dark .mono-bg-inverse { background-color: var(--mono-white); }

/* Monochrome text */
.mono-text-primary { color: var(--mono-900); }
.mono-text-secondary { color: var(--mono-600); }
.mono-text-tertiary { color: var(--mono-400); }
.mono-text-inverse { color: var(--mono-white); }

.dark .mono-text-primary { color: var(--mono-50); }
.dark .mono-text-secondary { color: var(--mono-400); }
.dark .mono-text-tertiary { color: var(--mono-500); }
.dark .mono-text-inverse { color: var(--mono-900); }

/* Monochrome borders */
.mono-border { border-color: var(--mono-200); }
.mono-border-strong { border-color: var(--mono-300); }
.mono-border-subtle { border-color: var(--mono-100); }

.dark .mono-border { border-color: var(--mono-800); }
.dark .mono-border-strong { border-color: var(--mono-700); }
.dark .mono-border-subtle { border-color: var(--mono-900); }

/* Monochrome buttons */
.mono-btn-primary {
  background-color: var(--mono-900);
  color: var(--mono-white);
  transition: all 0.2s ease;
}
.mono-btn-primary:hover {
  background-color: var(--mono-800);
}

.dark .mono-btn-primary {
  background-color: var(--mono-white);
  color: var(--mono-900);
}
.dark .mono-btn-primary:hover {
  background-color: var(--mono-100);
}

.mono-btn-secondary {
  background-color: transparent;
  color: var(--mono-900);
  border: 1px solid var(--mono-300);
  transition: all 0.2s ease;
}
.mono-btn-secondary:hover {
  background-color: var(--mono-50);
  border-color: var(--mono-400);
}

.dark .mono-btn-secondary {
  color: var(--mono-100);
  border-color: var(--mono-700);
}
.dark .mono-btn-secondary:hover {
  background-color: var(--mono-800);
  border-color: var(--mono-600);
}

/* Monochrome cards */
.mono-card {
  background-color: var(--mono-white);
  border: 1px solid var(--mono-200);
  border-radius: 12px;
  transition: all 0.2s ease;
}
.mono-card:hover {
  border-color: var(--mono-300);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.dark .mono-card {
  background-color: var(--mono-900);
  border-color: var(--mono-800);
}
.dark .mono-card:hover {
  border-color: var(--mono-700);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Monochrome input fields */
.mono-input {
  background-color: var(--mono-white);
  border: 1px solid var(--mono-300);
  color: var(--mono-900);
  transition: all 0.2s ease;
}
.mono-input:focus {
  border-color: var(--mono-900);
  outline: none;
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
}
.mono-input::placeholder {
  color: var(--mono-400);
}

.dark .mono-input {
  background-color: var(--mono-900);
  border-color: var(--mono-700);
  color: var(--mono-100);
}
.dark .mono-input:focus {
  border-color: var(--mono-500);
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
}
.dark .mono-input::placeholder {
  color: var(--mono-500);
}

/* Monochrome shadows */
.mono-shadow-sm { box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); }
.mono-shadow { box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); }
.mono-shadow-lg { box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1); }

.dark .mono-shadow-sm { box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); }
.dark .mono-shadow { box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); }
.dark .mono-shadow-lg { box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4); }

/* Monochrome dividers */
.mono-divider {
  border-top: 1px solid var(--mono-200);
}
.dark .mono-divider {
  border-top-color: var(--mono-800);
}

/* ============================================
   DARK MODE COLOR OVERRIDES
   Consistent, readable colors across the app
   ============================================ */

/* Background colors */
.dark .bg-white {
  background-color: #161616 !important;
}

.dark .bg-gray-50,
.dark .bg-neutral-50 {
  background-color: #1a1a1a !important;
}

.dark .bg-gray-100,
.dark .bg-neutral-100 {
  background-color: #1f1f1f !important;
}

.dark .bg-gray-200,
.dark .bg-neutral-200 {
  background-color: #262626 !important;
}

/* Text colors - ensure high contrast for readability */
.dark .text-gray-900,
.dark .text-neutral-900 {
  color: #ffffff !important;
}

.dark .text-gray-800,
.dark .text-neutral-800 {
  color: #f5f5f5 !important;
}

.dark .text-gray-700,
.dark .text-neutral-700 {
  color: #e5e5e5 !important;
}

.dark .text-gray-600,
.dark .text-neutral-600 {
  color: #d4d4d4 !important;
}

.dark .text-gray-500,
.dark .text-neutral-500 {
  color: #a3a3a3 !important;
}

.dark .text-gray-400,
.dark .text-neutral-400 {
  color: #8a8a8a !important;
}

/* Border colors */
.dark .border-gray-300,
.dark .border-neutral-300 {
  border-color: #404040 !important;
}

.dark .border-gray-200,
.dark .border-neutral-200 {
  border-color: #2e2e2e !important;
}

.dark .border-gray-100,
.dark .border-neutral-100 {
  border-color: #252525 !important;
}

/* Gradient backgrounds for dark mode */
.dark .from-neutral-50 {
  --tw-gradient-from: #0f0f0f !important;
}

.dark .to-neutral-100 {
  --tw-gradient-to: #161616 !important;
}

.dark .from-neutral-950 {
  --tw-gradient-from: #0a0a0a !important;
}

.dark .to-neutral-900 {
  --tw-gradient-to: #0f0f0f !important;
}

/* Card and container backgrounds */
.dark .bg-neutral-900 {
  background-color: #161616 !important;
}

.dark .bg-neutral-800 {
  background-color: #1f1f1f !important;
}

/* Accent color backgrounds for dark mode - softer versions */
.dark .bg-blue-50 {
  background-color: rgba(59, 130, 246, 0.15) !important;
}

.dark .bg-green-50 {
  background-color: rgba(34, 197, 94, 0.15) !important;
}

.dark .bg-purple-50 {
  background-color: rgba(168, 85, 247, 0.15) !important;
}

.dark .bg-orange-50 {
  background-color: rgba(249, 115, 22, 0.15) !important;
}

.dark .bg-amber-50 {
  background-color: rgba(245, 158, 11, 0.15) !important;
}

.dark .bg-red-50 {
  background-color: rgba(239, 68, 68, 0.15) !important;
}

/* Ensure inputs are readable in dark mode */
.dark input,
.dark textarea,
.dark select {
  background-color: #1a1a1a;
  border-color: #333333;
  color: #f5f5f5;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: #666666;
}

.dark input:focus,
.dark textarea:focus,
.dark select:focus {
  border-color: #525252;
  outline: none;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
}

/* Backdrop blur adjustments for dark mode */
.dark .backdrop-blur-lg {
  background-color: rgba(15, 15, 15, 0.85) !important;
}

.dark .bg-white\/80 {
  background-color: rgba(22, 22, 22, 0.9) !important;
}

.dark .bg-neutral-900\/80 {
  background-color: rgba(15, 15, 15, 0.9) !important;
}

body {
  font-family: Arial, Helvetica, sans-serif;
}

/* Landing page specific dark theme */
.landing-page {
  background: var(--landing-background);
  color: var(--landing-foreground);
}

/* Gradient Text Animation */
@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient {
  animation: gradient 8s linear infinite;
}

/* Slow gradient for borders - more subtle */
@keyframes gradient-slow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient-slow {
  animation: gradient-slow 6s ease-in-out infinite;
}

/* Floating dust particle animation for library background */
@keyframes float {
  0%, 100% {
    transform: translateY(0) translateX(0);
    opacity: 0.3;
  }
  25% {
    transform: translateY(-30px) translateX(10px);
    opacity: 0.6;
  }
  50% {
    transform: translateY(-60px) translateX(-5px);
    opacity: 0.4;
  }
  75% {
    transform: translateY(-30px) translateX(15px);
    opacity: 0.5;
  }
}

.animate-float {
  animation: float 15s ease-in-out infinite;
}

/* Performance optimizations for Safari */
.gpu-accelerated {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Smooth scroll for Safari */
html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Optimize animations for Safari */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ============================================
   ACCESSIBILITY SETTINGS
   ============================================ */

/* Font Size Scaling */
:root {
  --base-font-size: 16px;
}

html {
  font-size: var(--base-font-size);
}

/* High Contrast Mode */
.high-contrast {
  --background: #000000;
  --foreground: #ffffff;
}

.high-contrast * {
  border-color: currentColor !important;
}

.high-contrast button,
.high-contrast a {
  text-decoration: underline;
}

.high-contrast .bg-blue-600 {
  background-color: #0000ff !important;
}

.high-contrast .bg-gray-50,
.high-contrast .bg-gray-100 {
  background-color: #ffffff !important;
  color: #000000 !important;
}

.high-contrast .text-gray-600,
.high-contrast .text-gray-700,
.high-contrast .text-gray-500 {
  color: #ffffff !important;
}

/* Reduced Motion */
.reduced-motion *,
.reduced-motion *::before,
.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Color Blind Modes */
/* Protanopia (Red-Blind) */
.protanopia {
  filter: url('#protanopia-filter');
}

.protanopia::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: difference;
}

/* Apply filter for protanopia */
@supports (filter: url('#protanopia')) {
  .protanopia {
    filter:
      saturate(0.7)
      hue-rotate(10deg)
      contrast(1.1);
  }
}

/* Deuteranopia (Green-Blind) */
.deuteranopia {
  filter:
    saturate(0.6)
    hue-rotate(-10deg)
    contrast(1.15);
}

/* Tritanopia (Blue-Blind) */
.tritanopia {
  filter:
    saturate(0.8)
    hue-rotate(90deg)
    contrast(1.05);
}

/* ============================================
   MATH RENDERING STYLES (KaTeX)
   Professional textbook-quality equation display
   ============================================ */

/* Math content container */
.math-content {
  line-height: 1.6;
}

/* Display math (block equations) - centered */
.math-display {
  display: block;
  text-align: center;
  margin: 0.75rem 0;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 0.5rem 0;
}

.math-display .katex-display {
  margin: 0;
  padding: 0;
}

/* KaTeX color adjustments for dark theme */
.dark .katex,
.dark .katex .katex-html {
  color: inherit;
}

/* Make equations readable in both themes */
.katex {
  font-size: 1.1em;
}

.math-display .katex {
  font-size: 1.2em;
}

/* Ensure proper wrapping for long equations */
.katex-display > .katex {
  white-space: normal;
  max-width: 100%;
}

/* Scrollable for very wide equations */
.math-display::-webkit-scrollbar {
  height: 4px;
}

.math-display::-webkit-scrollbar-track {
  background: transparent;
}

.math-display::-webkit-scrollbar-thumb {
  background: var(--mono-400);
  border-radius: 2px;
}

.dark .math-display::-webkit-scrollbar-thumb {
  background: var(--mono-600);
}

/* Inline math styling */
.katex:not(.katex-display .katex) {
  padding: 0 0.1em;
}

/* Fix KaTeX vertical alignment in inline context */
.math-content .katex {
  vertical-align: middle;
}

/* Highlighted text - replaces quoted text in AI responses */
.text-highlight {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.2));
  color: #93c5fd;
  padding: 0.1em 0.4em;
  border-radius: 0.25em;
  font-weight: 600;
}
